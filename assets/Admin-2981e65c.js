import{r as i,u as b,f as y,a as w,j as s,P as C,T as D,L as k,C as T,F as S,b as L,g as B}from"./index-210d097e.js";function A({todo:r}){const[x,n]=i.useState(!1),[o,l]=i.useState(""),[v,m]=b(["user"]),[c,u]=i.useState(!1),d=y(r.endDate),h=window.innerWidth/90;let e=r.percentCompleted;var p="grid grid-cols-7 gap-4 bg-slate-200 rounded-t-lg p-1 py-3";const j=w();x||(e<25?l("indianred"):25<=e&&e<50?l("coral"):50<=e&&e<75?l("gold"):75<=e&&e<=100?l("green"):100<e&&(e=100),n(!0)),c&&(p="grid grid-cols-7 gap-4 bg-slate-200 rounded-t-lg p-1 py-2");const f=t=>{console.log(t),console.log("pressed "+t),m("edit_taskID",t,{path:"/",secure:!1}),j.push("/editTask")},a=()=>{u(!c)};return s.jsx("div",{className:"snap-center",children:s.jsxs("details",{children:[s.jsxs("summary",{className:p,onClick:a,children:[s.jsx("div",{className:"col-span-2 m-2",children:s.jsx("div",{className:"text-crypto-blue text-3xl font-semibold",children:r.title})}),s.jsx("div",{className:"relative col-span-2",children:s.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 text-urbana-gray text-2xl",children:r.description})}),s.jsxs("div",{className:"relative col-span-1",children:[s.jsx("div",{className:"relative",children:s.jsx("div",{children:"Due Date:"})}),s.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 whitespace-normal flex-wrap font-semibold text-xl text-sky-700 mt-2.5",children:d})]}),s.jsx("div",{className:"relative col-span-1",children:s.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2",children:[s.jsx(C,{progress:e,radius:h,strokeWidth:10,strokeColor:o,trackStrokeWidth:11,trackStrokeColor:"#a3a3a3"}),s.jsx("div",{className:"absolute"})]})}),s.jsx("div",{className:"relative col-span-1",children:s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:s.jsx("button",{onClick:()=>{f(r.uid)},className:"px-4 py-2 bg-urbana-blue text-white rounded-lg",children:"Edit"})})})]}),s.jsx(D,{todo:r})]})})}function F(){return s.jsx("div",{className:"roots",children:s.jsx("div",{className:"bodys",children:s.jsxs("div",{className:"scene",children:[s.jsx("div",{className:"overlay"}),s.jsx("div",{className:"overlay"}),s.jsx("div",{className:"overlay"}),s.jsx("div",{className:"overlay"}),s.jsx("span",{className:"bg-403",children:"403"}),s.jsxs("div",{className:"text",children:[s.jsx("span",{className:"hero-text"}),s.jsxs("span",{className:"msg",children:["can't let ",s.jsx("span",{children:"you"})," in."]}),s.jsxs("span",{className:"support",children:[s.jsx("span",{children:"unexpected?"}),s.jsx("a",{href:"mailto:amoghkashyap365@gmail.com",children:"contact support"})]})]}),s.jsx("div",{className:"lock"})]})})})}function H(){return s.jsx("div",{className:"fixed left-0 bottom-0 m-3",children:s.jsx(k,{to:"/createTask",children:s.jsx("div",{className:"px-16 py-2 bg-cyan-600 rounded-full",children:s.jsx("button",{className:"text-white text-xl",children:"Create Task"})})})})}function P(){var x=new T().get("admin");if(x==="true"){const[l,v]=i.useState([]),[m,c]=i.useState(!0),[u,d]=i.useState(!1),[h,e]=i.useState(!1);var n="scale-[2.0] mr-5",o="scale-[2.0] mr-3";m&&((async()=>{if(l){let a=await B();v(a),console.log(a)}})(),c(!1)),u&&(l.sort((a,t)=>{let g=new Date(a.endDate),N=new Date(t.endDate);return g-N}),n="scale-[2.0] mr-5 fill-blue-500"),h&&(l.sort((a,t)=>{let g=new Date(a.endDate);return new Date(t.endDate)-g}),o="scale-[2.0] mr-3 fill-blue-500");const j=()=>{d(!0),e(!1)},f=()=>{d(!1),e(!0)};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between inline bg-slate-600 p-3",children:[s.jsx(k,{to:"/createTask",className:"text-blue-500",children:s.jsx("button",{children:"Create Task"})}),s.jsxs("div",{className:"flex inline-flex",children:[s.jsx("button",{className:"border-1",children:s.jsx(S,{className:n,onClick:j})}),s.jsx("button",{children:s.jsx(L,{className:o,onClick:f})})]})]}),s.jsx("div",{className:"grid justify-items-center bg-slate-400 p-3 h-fit min-h-screen w-screen pb-20",children:s.jsx("div",{className:"snap-x space-y-2 w-4/5",children:l.map((a,t)=>s.jsx(A,{index:t,todo:a},t))})}),s.jsx(H,{})]})}else return s.jsx("div",{children:s.jsx(F,{})})}export{P as default};
